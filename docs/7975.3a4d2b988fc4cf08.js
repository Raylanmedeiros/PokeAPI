"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7975],{7975:(D,P,l)=>{l.r(P),l.d(P,{PokemonListPageModule:()=>$});var s=l(9420),g=l(2881),k=l(4341),d=l(5207),u=l(467),t=l(1360),_=l(7643);let h=(()=>{var o;class a{constructor(e){this.http=e,this.baseUrl="https://pokeapi.co/api/v2"}getPokemonList(e=0,i=20){return this.http.get(`${this.baseUrl}/pokemon?offset=${e}&limit=${i}`)}getPokemonDetails(e){return this.http.get(`${this.baseUrl}/pokemon/${e}`)}}return(o=a).\u0275fac=function(e){return new(e||o)(t.KVO(_.Qq))},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const b=()=>[];function v(o,a){1&o&&(t.qex(0),t.j41(1,"div",12),t.nrm(2,"img",13),t.k0s(),t.bVm())}function x(o,a){if(1&o&&(t.qex(0),t.j41(1,"span",24),t.EFF(2),t.k0s(),t.bVm()),2&o){const n=a.$implicit;t.R7$(2),t.JRh(n)}}function y(o,a){if(1&o){const n=t.RV6();t.j41(0,"ion-item",15),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(2);return t.Njj(c.openDetail(i))}),t.j41(1,"ion-avatar",16),t.nrm(2,"img",17),t.k0s(),t.j41(3,"ion-label",18)(4,"div",19)(5,"span"),t.EFF(6),t.nI1(7,"titlecase"),t.k0s(),t.j41(8,"span",20),t.DNE(9,x,3,1,"ng-container",21),t.k0s()()(),t.j41(10,"ion-button",22),t.bIt("click",function(i){const c=t.eBV(n).$implicit;return t.XpG(2).toggleFavorite(c),t.Njj(i.stopPropagation())}),t.nrm(11,"ion-icon",23),t.k0s()()}if(2&o){const n=a.$implicit;t.R7$(2),t.Y8G("src",n.image,t.B4B)("alt",n.name),t.R7$(4),t.Lme(" #",n.order," - ",t.bMT(7,6,n.name)," "),t.R7$(3),t.Y8G("ngForOf",n.typesArray),t.R7$(2),t.Y8G("name",n.favorite?"star":"star-outline")}}function F(o,a){if(1&o&&(t.j41(0,"ion-list"),t.DNE(1,y,12,8,"ion-item",14),t.k0s()),2&o){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.pokemons)}}function L(o,a){if(1&o){const n=t.RV6();t.j41(0,"ion-button",26),t.bIt("click",function(){const i=t.eBV(n).index,c=t.XpG(2);return t.Njj(c.goToPage(i+1))}),t.EFF(1),t.k0s()}if(2&o){const n=a.index,e=t.XpG(2);t.Y8G("color",e.page===n+1?"primary":"medium"),t.R7$(),t.SpI(" ",n+1," ")}}function M(o,a){if(1&o&&(t.qex(0),t.DNE(1,L,2,2,"ion-button",25),t.bVm()),2&o){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",t.lJ4(1,b).constructor(n.totalPages))}}const j=[{path:"",component:(()=>{var o;class a{constructor(e){this.pokeapi=e,this.pokemons=[],this.page=1,this.limit=20,this.loading=!1,this.favorites=[],this.total=0,this.totalPages=0}ngOnInit(){this.loadFavorites(),this.loadPokemons()}loadFavorites(){this.favorites=JSON.parse(localStorage.getItem("favorites")||"[]")}saveFavorites(){localStorage.setItem("favorites",JSON.stringify(this.favorites))}isFavorite(e){return this.favorites.some(i=>i.name===e.name)}loadPokemons(){var e=this;return(0,u.A)(function*(){e.loading=!0,e.pokeapi.getPokemonList((e.page-1)*e.limit,e.limit).subscribe(function(){var c=(0,u.A)(function*(p){const w=yield Promise.all(p.results.map(function(){var C=(0,u.A)(function*(f){const r=yield e.pokeapi.getPokemonDetails(f.name).toPromise();return{name:f.name,order:r.id,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${r.id}.png`,gif:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${r.id}.gif`,shiny:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/${r.id}.png`,shinyGif:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/${r.id}.gif`,types:r.types.map(m=>m.type.name).join(", "),typesArray:r.types.map(m=>m.type.name),height:r.height,weight:r.weight,abilities:r.abilities.map(m=>m.ability.name).join(", "),favorite:e.isFavorite({name:f.name})}});return function(f){return C.apply(this,arguments)}}()));e.pokemons=w,e.total=p.count,e.totalPages=Math.ceil(e.total/e.limit),e.loading=!1});return function(p){return c.apply(this,arguments)}}())})()}extractIdFromUrl(e){const i=e.split("/").filter(Boolean);return+i[i.length-1]}nextPage(){this.page<this.totalPages&&(this.page++,this.loadPokemons())}prevPage(){this.page>1&&(this.page--,this.loadPokemons())}goToPage(e){e>=1&&e<=this.totalPages&&(this.page=e,this.loadPokemons())}toggleFavorite(e){this.isFavorite(e)?(this.favorites=this.favorites.filter(i=>i.name!==e.name),e.favorite=!1):(this.favorites.push({order:e.order,name:e.name,image:e.image}),e.favorite=!0),this.saveFavorites()}openDetail(e){}}return(o=a).\u0275fac=function(e){return new(e||o)(t.rXU(h))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-pokemon-list"]],standalone:!1,decls:22,vars:7,consts:[[3,"translucent"],["slot","end"],["routerLink","/favorites","routerDirection","forward"],["name","star","slot","icon-only"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngIf"],[1,"pokemon-list-container"],[1,"ion-justify-content-center","ion-padding"],["size","12",1,"ion-text-center",2,"margin-bottom","8px"],[3,"click","disabled"],[1,"ion-text-center","ion-padding"],["src","assets/pokeball-loading.gif","alt","Loading...",2,"width","35rem","height","15rem"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["slot","start"],[3,"src","alt"],[1,"pokemon-label"],[1,"pokemon-info-row"],[1,"pokemon-details"],[4,"ngFor","ngForOf"],["fill","clear","slot","end","color","warning",3,"click"],[3,"name"],[1,"pokemon-type-badge"],["size","small",3,"color","click",4,"ngFor","ngForOf"],["size","small",3,"click","color"]],template:function(e,i){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Pok\xe9mons"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"ion-header",5)(9,"ion-toolbar")(10,"ion-title",6),t.EFF(11,"Pok\xe9mons"),t.k0s()()(),t.DNE(12,v,3,0,"ng-container",7),t.j41(13,"div",8),t.DNE(14,F,2,1,"ion-list",7),t.k0s(),t.j41(15,"ion-row",9)(16,"ion-col",10),t.DNE(17,M,2,2,"ng-container",7),t.k0s(),t.j41(18,"ion-button",11),t.bIt("click",function(){return i.prevPage()}),t.EFF(19,"Anterior"),t.k0s(),t.j41(20,"ion-button",11),t.bIt("click",function(){return i.nextPage()}),t.EFF(21,"Pr\xf3xima"),t.k0s()()()),2&e&&(t.Y8G("translucent",!0),t.R7$(7),t.Y8G("fullscreen",!0),t.R7$(5),t.Y8G("ngIf",i.loading),t.R7$(2),t.Y8G("ngIf",!i.loading),t.R7$(3),t.Y8G("ngIf",i.totalPages>1),t.R7$(),t.Y8G("disabled",1===i.page),t.R7$(2),t.Y8G("disabled",i.page===i.totalPages))},dependencies:[s.mC,s.Jm,s.QW,s.hU,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.ln,s.BC,s.ai,s.N7,g.Sq,g.bT,d.Wk,g.PV],styles:[".pokemon-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 768px){.pokemon-info-row[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}.pokemon-details[_ngcontent-%COMP%]{margin-left:0}@media (min-width: 768px){.pokemon-details[_ngcontent-%COMP%]{margin-left:2rem;font-size:.95em;color:#666}}.pokemon-list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:stretch}@media (min-width: 1024px){.pokemon-list-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;border-radius:16px;background:#fff;box-shadow:0 0 24px 4px #0000004d;border:none;padding:2rem 2rem 1rem}}ion-item[_ngcontent-%COMP%]{transition:background .2s,box-shadow .2s;border-radius:12px;margin-bottom:.5rem}ion-item[_ngcontent-%COMP%]:hover{background:#f7f7fa;box-shadow:0 2px 8px #e6394614;transform:scale(1.01)}.pokemon-type-badge[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(90deg,#ff1b1b,#b9b9b9);color:#fff;border-radius:8px;padding:2px 10px;font-size:.85em;margin-right:.5em;margin-bottom:2px;font-weight:600;letter-spacing:.5px;box-shadow:0 1px 4px #00000014}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .2s}ion-item[_ngcontent-%COMP%]:hover   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.08) rotate(-5deg);box-shadow:0 2px 8px #e639461f}ion-list[_ngcontent-%COMP%]{border-top:1px solid #eee;border-bottom:1px solid #eee;animation:_ngcontent-%COMP%_fadeInList .7s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_fadeInList{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}.pokemon-info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Montserrat,Arial,sans-serif;font-weight:700;color:#222;font-size:1.1em}"]}),a})()}];let O=(()=>{var o;class a{}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[d.iI.forChild(j),d.iI]}),a})(),$=(()=>{var o;class a{}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[s.bv,g.MD,k.YN,O]}),a})()}}]);