"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1070],{1070:(j,u,l)=>{l.r(u),l.d(u,{PokemonListPageModule:()=>L});var a=l(9420),c=l(2881),g=l(4341),t=l(1360);let P=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[c.MD,g.YN,a.bv]}),s})();var m=l(5207),k=l(7643);let f=(()=>{var e;class s{constructor(o){this.http=o,this.baseUrl="https://pokeapi.co/api/v2"}getPokemonList(o=0,n=20){return this.http.get(`${this.baseUrl}/pokemon?offset=${o}&limit=${n}`)}getPokemonDetails(o){return this.http.get(`${this.baseUrl}/pokemon/${o}`)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.KVO(k.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const h=()=>[];function d(e,s){if(1&e){const i=t.RV6();t.j41(0,"ion-item",12),t.bIt("click",function(){const n=t.eBV(i).$implicit,r=t.XpG();return t.Njj(r.openDetail(n))}),t.j41(1,"ion-avatar",13),t.nrm(2,"img",14),t.k0s(),t.j41(3,"ion-label"),t.EFF(4),t.nI1(5,"titlecase"),t.k0s(),t.j41(6,"ion-button",15),t.bIt("click",function(n){const r=t.eBV(i).$implicit;return t.XpG().toggleFavorite(r),t.Njj(n.stopPropagation())}),t.nrm(7,"ion-icon",16),t.k0s()()}if(2&e){const i=s.$implicit;t.R7$(2),t.Y8G("src",i.image,t.B4B)("alt",i.name),t.R7$(2),t.JRh(t.bMT(5,4,i.name)),t.R7$(3),t.Y8G("name",i.favorite?"star":"star-outline")}}function _(e,s){if(1&e){const i=t.RV6();t.j41(0,"ion-button",18),t.bIt("click",function(){const n=t.eBV(i).index,r=t.XpG(2);return t.Njj(r.goToPage(n+1))}),t.EFF(1),t.k0s()}if(2&e){const i=s.index,o=t.XpG(2);t.Y8G("color",o.page===i+1?"primary":"medium"),t.R7$(),t.SpI(" ",i+1," ")}}function v(e,s){if(1&e&&(t.qex(0),t.DNE(1,_,2,2,"ion-button",17),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",t.lJ4(1,h).constructor(i.totalPages))}}const F=[{path:"",component:(()=>{var e;class s{constructor(o){this.pokeapi=o,this.pokemons=[],this.page=1,this.limit=20,this.loading=!1,this.favorites=[],this.total=0,this.totalPages=0}ngOnInit(){this.loadFavorites(),this.loadPokemons()}loadFavorites(){this.favorites=JSON.parse(localStorage.getItem("favorites")||"[]")}saveFavorites(){localStorage.setItem("favorites",JSON.stringify(this.favorites))}isFavorite(o){return this.favorites.some(n=>n.name===o.name)}loadPokemons(){this.loading=!0,this.pokeapi.getPokemonList((this.page-1)*this.limit,this.limit).subscribe(n=>{this.pokemons=n.results.map(r=>{const p=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${this.extractIdFromUrl(r.url)}.png`;return{name:r.name,image:p,favorite:this.isFavorite({name:r.name})}}),this.total=n.count,this.totalPages=Math.ceil(this.total/this.limit),this.loading=!1})}extractIdFromUrl(o){const n=o.split("/").filter(Boolean);return+n[n.length-1]}nextPage(){this.page<this.totalPages&&(this.page++,this.loadPokemons())}prevPage(){this.page>1&&(this.page--,this.loadPokemons())}goToPage(o){o>=1&&o<=this.totalPages&&(this.page=o,this.loadPokemons())}toggleFavorite(o){this.isFavorite(o)?(this.favorites=this.favorites.filter(n=>n.name!==o.name),o.favorite=!1):(this.favorites.push({name:o.name,image:o.image}),o.favorite=!0),this.saveFavorites()}openDetail(o){}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(f))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-pokemon-list"]],standalone:!1,decls:21,vars:6,consts:[[3,"translucent"],["slot","end"],["routerLink","/favorites","routerDirection","forward"],["name","star","slot","icon-only"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"click",4,"ngFor","ngForOf"],[1,"ion-justify-content-center","ion-padding"],["size","12",1,"ion-text-center",2,"margin-bottom","8px"],[4,"ngIf"],[3,"click","disabled"],[3,"click"],["slot","start"],[3,"src","alt"],["fill","clear","slot","end","color","warning",3,"click"],[3,"name"],["size","small",3,"color","click",4,"ngFor","ngForOf"],["size","small",3,"click","color"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Pok\xe9mons"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"ion-header",5)(9,"ion-toolbar")(10,"ion-title",6),t.EFF(11,"Pok\xe9mons"),t.k0s()()(),t.j41(12,"ion-list"),t.DNE(13,d,8,6,"ion-item",7),t.k0s(),t.j41(14,"ion-row",8)(15,"ion-col",9),t.DNE(16,v,2,2,"ng-container",10),t.k0s(),t.j41(17,"ion-button",11),t.bIt("click",function(){return n.prevPage()}),t.EFF(18,"Anterior"),t.k0s(),t.j41(19,"ion-button",11),t.bIt("click",function(){return n.nextPage()}),t.EFF(20,"Pr\xf3xima"),t.k0s()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(7),t.Y8G("fullscreen",!0),t.R7$(6),t.Y8G("ngForOf",n.pokemons),t.R7$(3),t.Y8G("ngIf",n.totalPages>1),t.R7$(),t.Y8G("disabled",1===n.page),t.R7$(2),t.Y8G("disabled",n.page===n.totalPages))},dependencies:[a.mC,a.Jm,a.QW,a.hU,a.W9,a.eU,a.iq,a.uz,a.he,a.nf,a.ln,a.BC,a.ai,a.N7,c.Sq,c.bT,m.Wk,c.PV],encapsulation:2}),s})()}];let b=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[m.iI.forChild(F),m.iI]}),s})(),L=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[a.bv,c.MD,g.YN,P,b]}),s})()}}]);